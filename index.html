<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>东村红韵 - 教育活动预约系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <script src="https://cdn.tailwindcss.com/3.3.3"></script>
    
    <!-- 添加地图所需的样式 -->
    <style>
        /* 定义CSS变量 */
        :root {
            --primary-red: #e63946;
            --dark-red: #c1121f;
            --gold: #ffb703;
            --white: #ffffff;
            --gray: #f8f9fa;
            --dark-gray: #333333;
        }

        /* 全局样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: var(--dark-gray);
        }

        /* 头部样式 */
        header {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: var(--white);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 25px;
        }

        nav ul li a {
            color: var(--white);
            text-decoration: none;
            font-size: 1.1rem;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: var(--gold);
        }

        /* 英雄区域 */
        .hero {
            background: rgba(230, 57, 70, 0.7);
            color: var(--white);
            padding: 150px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://img.cdn1.vip/i/68e8d0a4e8691_1760088228.webp') no-repeat center center;
            background-size: cover;
            opacity: 0.9;
            z-index: 0;
        }

        .hero .container {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .hero p {
            font-size: 1.5rem;
            margin-bottom: 30px;
        }

        .btn {
            display: inline-block;
            background-color: var(--gold);
            color: var(--dark-gray);
            padding: 12px 30px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .btn:hover {
            background-color: #e9c46a;
            transform: translateY(-2px);
        }

        /* 通用容器和标题 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--dark-red);
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary-red);
        }

        /* 关于部分 */
        .about {
            background-color: var(--gray);
        }

        .about-content {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            align-items: center;
        }

        .about-text {
            flex: 1;
            min-width: 300px;
        }

        .about-text h3 {
            font-size: 1.8rem;
            color: var(--dark-red);
            margin-bottom: 20px;
        }

        .about-text p {
            font-size: 1.1rem;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .about-image {
            flex: 1.5;
            min-width: 300px;
        }

        .about-image img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            object-fit: cover;
        }

        /* 展览项目 */
        .exhibitions {
            background-color: var(--white);
        }

        .exhibition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .exhibition-item {
            background-color: var(--white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .exhibition-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .exhibition-image {
            height: 250px;
            overflow: hidden;
        }

        .exhibition-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .exhibition-item:hover .exhibition-image img {
            transform: scale(1.05);
        }

        .exhibition-content {
            padding: 20px;
        }

        .exhibition-content h3 {
            font-size: 1.5rem;
            color: var(--dark-red);
            margin-bottom: 10px;
        }

        .exhibition-content p {
            margin-bottom: 15px;
            color: var(--dark-gray);
        }

        .exhibition-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
        }

        /* 展览详情模态框 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .modal-content {
            background-color: var(--white);
            border-radius: 8px;
            max-width: 900px;
            width: 90%;
            margin: 50px auto;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .modal-title {
            font-size: 2rem;
            color: var(--dark-red);
            margin: 0;
        }

        .close-button {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.3s;
        }

        .close-button:hover {
            color: var(--primary-red);
        }

        .modal-body {
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .modal-body img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .modal-body h4 {
            font-size: 1.3rem;
            color: var(--dark-red);
            margin: 20px 0 10px;
        }

        .modal-body p {
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .modal-details {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .modal-detail-item {
            flex: 1;
            min-width: 200px;
        }

        .modal-detail-item i {
            color: var(--primary-red);
            margin-right: 10px;
        }

        .modal-footer {
            text-align: center;
            padding: 20px;
            border-top: 1px solid #eee;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 预约部分 */
        .booking-section {
            background-color: var(--white);
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 0 auto;
        }

        .success-message {
            display: none;
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
        }

        .success-message i {
            margin-right: 10px;
            color: #28a745;
        }

        .booking-form {
            margin-top: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-gray);
        }

        .form-group label i {
            color: var(--primary-red);
            margin-right: 8px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--primary-red);
            outline: none;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .submit-container {
            text-align: center;
            margin-top: 30px;
        }

        .submit-container button {
            background-color: var(--primary-red);
            color: var(--white);
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .submit-container button:hover {
            background-color: var(--dark-red);
            transform: translateY(-2px);
        }

        /* 访客评价 */
        .testimonials {
            background-color: var(--gray);
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .testimonial-item {
            background-color: var(--white);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .testimonial-item p {
            font-size: 1.1rem;
            margin-bottom: 20px;
            font-style: italic;
            color: var(--dark-gray);
        }

        .person-info {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .person-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 15px;
            object-fit: cover;
            border: 3px solid var(--gold);
        }

        .person-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--dark-red);
        }

        .person-rating {
            color: var(--gold);
        }

        .person-rating i {
            margin: 0 2px;
        }

        /* 联系我们 */
        .contact {
            background-color: var(--white);
        }

        .contact-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 40px;
        }

        .contact-info {
            flex: 1;
            min-width: 300px;
        }

        .contact-info h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--dark-red);
        }

        .contact-item {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }

        .contact-item i {
            color: var(--primary-red);
            font-size: 1.5rem;
            margin-right: 15px;
            min-width: 24px;
        }

        .contact-item p {
            font-size: 1.1rem;
            margin: 0;
        }

        .contact-map {
            flex: 1;
            min-width: 300px;
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
        }

        .contact-map iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* 页脚 */
        footer {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: var(--white);
            padding: 40px 0;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }

        .footer-links a {
            color: var(--white);
            text-decoration: none;
            margin: 0 15px 10px;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--gold);
        }

        /* 动画 */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 响应式设计 */
        @media (max-width: 1200px) {
            .container {
                max-width: 100%;
            }
        }
        
        /* 图片浏览样式 */
        .image-gallery {
            margin-bottom: 20px;
        }
        
        .gallery-main {
            position: relative;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .gallery-main img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }
        
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            color: var(--dark-red);
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .gallery-nav:hover {
            background-color: var(--primary-red);
            color: white;
        }
        
        .gallery-nav.prev {
            left: 15px;
        }
        
        .gallery-nav.next {
            right: 15px;
        }
        
        .gallery-thumbnails {
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 8px;
        }
        
        .gallery-thumbnail {
            width: 100%;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .gallery-thumbnail:hover,
        .gallery-thumbnail.active {
            border-color: var(--primary-red);
            transform: scale(1.05);
        }
        
        @media (max-width: 768px) {
            .gallery-thumbnails {
                grid-template-columns: repeat(6, 1fr);
            }
            
            .gallery-thumbnail {
                height: 50px;
            }
        }

        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            .section-title h2 {
                font-size: 2.2rem;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            nav ul {
                justify-content: center;
                flex-wrap: wrap;
            }
            nav ul li {
                margin: 0 10px;
            }
            .hero {
                padding: 100px 0;
            }
            .hero h1 {
                font-size: 2.2rem;
            }
            .hero p {
                font-size: 1.2rem;
            }
            .section-title h2 {
                font-size: 1.8rem;
            }
            .booking-section {
                padding: 30px 20px;
            }
            .form-row {
                flex-direction: column;
            }
            .form-row .form-group {
                min-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 80px 0;
            }
            .hero h1 {
                font-size: 1.8rem;
            }
            .hero p {
                font-size: 1rem;
            }
            section {
                padding: 50px 0;
            }
            .section-title h2 {
                font-size: 1.5rem;
            }
        }
        
        /* 地图相关样式 */
        #map-section {
            background-color: var(--gray);
        }
        
        #map-container {
            height: 600px;
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .marker-content {
            background: white;
            padding: 10px;
            border-radius: 4px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            min-width: 200px;
        }
        
        .marker-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #e63946;
        }
        
        .site-details {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .legend {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #e63946;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 100;
        }
        
        .back-to-top.visible {
            opacity: 1;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">东村红韵</div>
            <nav>
                <ul>
                    <li><a href="#about">关于我们</a></li>
                    <li><a href="#exhibitions">展览项目</a></li>
                    <li><a href="#booking">预约参观</a></li>
                    <li><a href="#testimonials">访客评价</a></li>
                    <li><a href="#contact">联系方式</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>东村红韵革命历史教育基地</h1>
            <p>传承红色基因，弘扬革命精神，体验沉浸式红色文化之旅</p>
            <a href="#booking" class="btn">立即预约</a>
        </div>
    </section>

    <section id="about" class="about">
        <div class="container">
            <div class="section-title">
                <h2>关于我们</h2>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>东村红韵革命历史教育基地</h3>
                    <p>东村红韵革命历史教育基地位于昆明市嵩明县，是一座集红色文化展示、革命传统教育、爱国主义教育于一体的综合性教育基地。基地依托丰富的革命历史资源，致力于传承红色基因，弘扬革命精神。</p>
                    <p>基地内设有多个主题展厅，展示了东村地区从土地革命战争、抗日战争到解放战争的光辉历史，以及革命先辈们的英勇事迹。我们提供专业的讲解服务和丰富的教育活动，让每一位参观者都能深入了解革命历史，感受革命精神的伟大力量。</p>
                </div>
                <div class="about-image">
                    <img src="https://img.cdn1.vip/i/68f084aca5947_1760593068.webp" alt="东村红韵革命历史教育基地">
                </div>
            </div>
        </div>
    </section>

    <section id="exhibitions" class="exhibitions">
        <div class="container">
            <div class="section-title">
                <h2>展览项目</h2>
            </div>
            <div class="exhibition-grid">
                <div class="exhibition-item" data-exhibition="memory">
                    <div class="exhibition-image">
                        <img src="https://img.cdn1.vip/i/68f0cae77ec33_1760611047.webp" alt="红色记忆展">
                    </div>
                    <div class="exhibition-content">
                        <h3>红色记忆展</h3>
                        <p>通过历史照片、文物和多媒体展示，重现东村地区革命斗争的光辉历程和革命先辈的英勇事迹。</p>

                    </div>
                </div>
                <div class="exhibition-item" data-exhibition="relics">
                    <div class="exhibition-image">
                        <img src="https://img.cdn1.vip/i/68f0843c3604b_1760592956.webp" alt="革命文物展">
                    </div>
                    <div class="exhibition-content">
                        <h3>革命文物展</h3>
                        <p>展出革命时期的珍贵文物，包括武器、生活用品、文献资料等，真实反映了革命先辈们的战斗和生活状况。</p>

                    </div>
                </div>
                <div class="exhibition-item" data-exhibition="spirit">
                    <div class="exhibition-image">
                        <img src="https://img.cdn1.vip/i/68f0cd715a410_1760611697.webp" alt="红色精神展">
                    </div>
                    <div class="exhibition-content">
                        <h3>红色精神展</h3>
                        <p>通过互动展项和沉浸式体验，让参观者深入了解和感受红色精神的内涵和时代价值。</p>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 展览详情模态框 -->
    <div id="exhibitionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">展览详情</h3>
                <button class="close-button" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- 动态填充内容 -->
            </div>
            <div class="modal-footer">
                <a href="#booking" class="btn">立即预约参观</a>
            </div>
    </div>
    </div>

    <!-- 添加地图部分 -->
    <section id="map-section" class="map-section py-16">
        <div class="container mx-auto px-4">
            <div class="section-title mb-8">
                <h2>云南省嵩明县东村红色基地地图</h2>
            </div>
            
            <!-- 地图说明 -->
            <div class="legend">
                <h3 class="text-xl font-bold mb-4 text-red-600">红色基地组成</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e63946;"></div>
                        <span>东村革命会议旧址</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #457b9d;"></div>
                        <span>东村战斗遗址</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #1d3557;"></div>
                        <span>东村纪念设施</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #a8dadc;"></div>
                        <span>东村红色记忆收藏馆</span>
                    </div>
                </div>
            </div>
            
            <!-- 地图容器 -->
            <div id="map-container"></div>
            
            <!-- 遗址详情展示区 -->
            <div id="site-details" class="site-details">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="site-title" class="text-2xl font-bold text-red-600"></h3>
                    <button id="close-details" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="image-container" style="height: 300px; overflow: hidden;">
                        <img id="site-image" src="" alt="" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                    <div>
                        <p id="site-address" class="text-gray-600 mb-4"><i class="fas fa-map-marker-alt mr-2 text-red-500"></i></p>
                        <div id="site-description" class="text-gray-700"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="booking" class="booking">
        <div class="container">
            <div class="section-title">
                <h2>教育活动预约</h2>
            </div>
            <div class="section-content">
                <p style="font-size: 1.2rem; margin-bottom: 2rem; text-align: center;">提前预约参观东村红色文化基地，体验革命精神之旅。</p>
                
                <div class="booking-section">
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle"></i> 预约成功！我们将尽快与您联系确认。
                    </div>
                    
                    <form id="bookingForm" class="booking-form">
                        <div class="form-group">
                            <label for="name"><i class="fas fa-user"></i> 姓名</label>
                            <input type="text" id="name" placeholder="请输入您的姓名" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone"><i class="fas fa-phone"></i> 联系电话</label>
                            <input type="tel" id="phone" placeholder="请输入您的手机号码" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email"><i class="fas fa-envelope"></i> 电子邮箱</label>
                            <input type="email" id="email" placeholder="请输入您的电子邮箱">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="date"><i class="fas fa-calendar"></i> 参观日期</label>
                                <input type="date" id="date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="time"><i class="fas fa-clock"></i> 参观时段</label>
                                <select id="time" required>
                                    <option value="">请选择时段</option>
                                    <option value="morning">上午 9:00-11:30</option>
                                    <option value="afternoon">下午 2:00-4:30</option>
                                    <option value="evening">下午 5:00-7:30</option>
                                    <option value="full">全天参观(9:00-17:00)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="count"><i class="fas fa-users"></i> 参观人数</label>
                                <select id="count" required>
                                    <option value="">请选择人数</option>
                                    <option value="1">1人</option>
                                    <option value="2">2人</option>
                                    <option value="3-5">3-5人</option>
                                    <option value="6-10">6-10人</option>
                                    <option value="11-20">11-20人</option>
                                    <option value="20+">20人以上</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="type"><i class="fas fa-info-circle"></i> 参观类型</label>
                                <select id="type">
                                    <option value="">请选择类型</option>
                                    <option value="individual">个人自由行</option>
                                    <option value="family">家庭参观</option>
                                    <option value="school">学校组织</option>
                                    <option value="tour">旅行社团体</option>
                                    <option value="research">研究考察</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="message"><i class="fas fa-comment"></i> 特别需求</label>
                            <textarea id="message" placeholder="如特殊需求、特殊照顾人群说明、希望体验的革命活动项目等" rows="5"></textarea>
                        </div>
                        
                        <div class="submit-container">
                            <button type="submit"><i class="fas fa-check-circle"></i> 提交预约申请</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section id="testimonials" class="testimonials">
        <div class="container">
            <div class="section-title">
                <h2>访客评价</h2>
            </div>
            <div class="testimonial-grid">
                <div class="testimonial-item">
                    <p>"参观体验非常棒，工作人员热情专业，展览内容丰富详实，让我对东村的革命历史有了更深入的了解。"</p>
                    <div class="person-info">
                        <img src="https://picsum.photos/id/64/100/100" alt="李先生" class="person-img">
                        <div>
                            <div class="person-name">李先生</div>
                            <div class="person-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-item">
                    <p>"带孩子来参观，他对革命历史产生了浓厚的兴趣，预约系统也很方便，值得推荐给更多人。"</p>
                    <div class="person-info">
                        <img src="https://picsum.photos/id/26/100/100" alt="张女士" class="person-img">
                        <div>
                            <div class="person-name">张女士</div>
                            <div class="person-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-item">
                    <p>"作为一名历史教师，我认为这里是进行爱国主义教育的理想场所，展览设计和讲解都很专业。"</p>
                    <div class="person-info">
                        <img src="https://picsum.photos/id/91/100/100" alt="王老师" class="person-img">
                        <div>
                            <div class="person-name">王老师</div>
                            <div class="person-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <div class="section-title">
                <h2>联系方式</h2>
            </div>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>联系我们</h3>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <p>地址：云南省昆明市嵩明县东村（邮编：651700）</p>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <p>参观预约电话：0755-83250671 / 83250672</p>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <p>电子邮箱：contact@dongcunhongyun.cn</p>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <p>开放时间：周二至周日 9:00-17:00（周一闭馆，法定节假日除外）</p>
                    </div>
                </div>
                <div class="contact-map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.2708569938156!2d-74.00597368459448!3d40.71277539999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c2598bd3fc40e9%3A0x73e225597b296438!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2suk!4v1642345432567!5m2!1sen!2suk" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>东村红韵革命历史教育基地</p>
                <div class="footer-links">
                    <a href="#about">关于我们</a>
                    <a href="#exhibitions">展览项目</a>
                    <a href="#booking">预约参观</a>
                    <a href="#testimonials">访客评价</a>
                    <a href="#contact">联系方式</a>
                </div>
                <p><i class="fas fa-map-marker-alt"></i> 地址：云南省昆明市嵩明县东村（邮编：651700）</p>
                <p><i class="fas fa-phone"></i> 参观预约电话：0755-83250671 / 83250672</p>
                <p><i class="fas fa-envelope"></i> 电子邮箱：contact@dongcunhongyun.cn</p>
            </div>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // 预约表单提交
        document.getElementById('bookingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 表单验证
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const count = document.getElementById('count').value;
            
            if (!name || !phone || !date || !time || !count) {
                alert('请填写所有必填字段');
                return;
            }
            
            // 显示成功消息
            const successMessage = document.getElementById('successMessage');
            successMessage.style.display = 'block';
            
            // 重置表单
            this.reset();
            
            // 5秒后隐藏成功消息
            setTimeout(function() {
                successMessage.style.display = 'none';
            }, 5000);
        });
        
        // 设置默认日期为明天
        document.addEventListener('DOMContentLoaded', function() {
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const yyyy = tomorrow.getFullYear();
            const mm = String(tomorrow.getMonth() + 1).padStart(2, '0');
            const dd = String(tomorrow.getDate()).padStart(2, '0');
            const formattedDate = `${yyyy}-${mm}-${dd}`;
            document.getElementById('date').value = formattedDate;
        });
        
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
        
        // 导航栏滚动效果
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.style.background = 'linear-gradient(135deg, var(--dark-red), var(--primary-red))';
                header.style.padding = '15px 0';
                header.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.2)';
            } else {
                header.style.background = 'linear-gradient(135deg, var(--primary-red), var(--dark-red))';
                header.style.padding = '20px 0';
                header.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.3)';
            }
        });
        
        // 展览详情模态框功能
        const modal = document.getElementById('exhibitionModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const closeModal = document.getElementById('closeModal');
        
        // 展览详情数据
        const exhibitionDetails = {
            memory: {
                title: '红色记忆展',
                image: 'https://img.cdn1.vip/i/68f0cae77ec33_1760611047.webp',
                images: [
                    'https://img.cdn1.vip/i/68f083eba0d35_1760592875.webp',
                    'https://img.cdn1.vip/i/68f087de10605_1760593886.webp',
                    'https://img.cdn1.vip/i/68f087d64e646_1760593878.webp',
                    'https://img.cdn1.vip/i/68f1b38b0221d_1760670603.webp',
                    'https://img.cdn1.vip/i/68f1b43fbb89a_1760670783.webp',
                    'https://img.cdn1.vip/i/68f0889ee8771_1760594078.webp',
                    'https://img.cdn1.vip/i/68f1b4d41ceee_1760670932.webp',
                    'https://img.cdn1.vip/i/68f0890ad7d97_1760594186.webp',
                    'https://img.cdn1.vip/i/68f1b58681f15_1760671110.webp',
                    'https://img.cdn1.vip/i/68f1b56dedfd5_1760671085.webp'
                ],
                description: '红色记忆展通过口述历史的方式，生动展现了东村地区与红军的深厚渊源，讲述了红军在当地留下的感人故事和革命足迹，展现了红军与人民群众的鱼水深情。',
                
                sections: [
                    {
                        title: '小小油桶盛深情',
                        content: '杨光文1935年3月，红军从嵩明过来，先住冷水沟一带，之后住铁匠冲一带，我家也住了几个战士。红军一到，就在本村地主雷家墙上写下了“武装暴动起来，打倒日本帝 国主义”“不交租不完债”和“打倒土豪劣绅”等标语，还把地主家的猪杀了分给群众吃。住我家的红军向我母亲借了几把稻草睡觉，第二早出发前捆得好好的送还，还把房屋打扫得干干净净。看到我们穷，留下了十五、六斤大米，让我们同院的两家人分着吃，我母亲被深深地感动了，她看到红军的草鞋破了，就把自己编的准备卖的二十双草鞋送给了红军。\n\n一个战士收下草鞋，另一个战士却把一只铁皮油桶递给我母亲说:"老板娘，没有钱给你，对不起。"我母亲把油桶推了回去，连声说:"草鞋送给你们的，不是卖的。"那位战士被噎秉得说不出话来，拎草鞋的战士马上说道:"你不收油桶，我们也不能收你的草鞋。这是我们的纪律。"我母亲本想再争辩几句，转念一想再争也是枉然，为了不耽误红军行军打仗，含着热泪收下了油桶。'
                    },
                    {
                        title: '吃你家谷子，还你家谷子',
                        content: '李世隆1936年农历3月的一天，红军从可郎出来，经牧羊坝子在阿子营、贾郎古住了一天。当时，国民党嵩明县政府在阿子营开设了两座粮仓，一座老仓，储存积谷;一座新仓，存储大米。国民党政府和土豪劣绅在粮仓里囤积了大量的粮食，通过卖粮获取高额利润，盘剥农民，不少人家被弄得卖儿卖女家破人亡。红军一到，立即把两座粮仓全部打开，取出谷米五十多担，就近散给贫苦群众。驻扎在贾郎古村的红军战士，往返五、六里路，从阿子营扛来仓谷，一家一家地送到贫苦群众门上。红军初到贾郎古时，食用了一李姓农民的稻谷，当时主人不在家，后来红军取仓谷加倍偿还，还留下"吃你家谷子，还你家谷子"字据，说明缘由。红军纪律的严明和对贫苦群众的热爱，由此可见一斑。'
                    },
                    {
                        title: '舍身为民的红军战士',
                        content: '李小定1935年旧历3月的一天，红军路过我们古城村。因为红军不伤老百姓，老百姓都不害怕，大家这里一群那里一堆地聚集在一起，看红军过路。\n\n那天天一亮，红军就从村里通过。晌午前后，天气热得要命，有两个挂短枪的红军同志到我家里喝水休息。不一会，突然一阵嗡嗡嗡的飞机声，他们急忙跑出门去，大声喊道:"老乡们快躲开，飞机要下蛋(弹)了!老板娘，老婆婆，快躲开!"话音刚落，一颗炸弹就下来了，在我家门前的一块大石头上爆炸，弹片、碎石四处乱飞。我家的耳房厦子被炸烂，正房的任檐被震断，板壁被炸倒一堵，大门被炸烂。蔡国明房子旁边的照壁上也被碎弹片凿出无数小洞。村里十四五岁的女孩小灵芝和四十岁左右的女人压焕，被当场炸死，小香的母亲被炸伤。临时指挥群众防空的那两个红军指挥员都被炸，一位当场牺牲，另一位重伤，由他的战友搀着走到南栅子门边也牺牲了。后来，这两个红军指挥员的遗体由村里的群众抬到村外掩埋了。两位红军指挥员为了保护老百姓的安全而牺牲自己，人民永远怀念他们!'
                    }
                ],
            },
            relics: {
                title: '革命文物展',
                image: 'https://img.cdn1.vip/i/68f0843c3604b_1760592956.webp',
                images: [
                    'https://img.cdn1.vip/i/68f0843c3604b_1760592956.webp',
                    'https://img.cdn1.vip/i/68f1b2c1ca45b_1760670401.webp',
                    'https://img.cdn1.vip/i/68f05e717d547_1760583281.webp',
                    'https://img.cdn1.vip/i/68f05e7f57275_1760583295.webp',

                    'https://img.cdn1.vip/i/68f05f1c7a6d5_1760583452.webp',
                    'https://img.cdn1.vip/i/68f05f18967fa_1760583448.webp',
                    'https://img.cdn1.vip/i/68f05f1b1ea63_1760583451.webp',
                    'https://img.cdn1.vip/i/68f1b6fa9bf80_1760671482.webp',
                    'https://img.cdn1.vip/i/68f1b6aeac042_1760671406.webp',
                    'https://img.cdn1.vip/i/68f05f627ed2a_1760583522.webp',
                    'https://img.cdn1.vip/i/68f05f68698fa_1760583528.webp',
                    'https://img.cdn1.vip/i/68f05f6aef5a5_1760583530.webp',
                    'https://img.cdn1.vip/i/68f1b23776af1_1760670263.webp',
                    'https://img.cdn1.vip/i/68f05f9029ed9_1760583568.webp',
                    'https://img.cdn1.vip/i/68f05f994da7d_1760583577.webp'
                ],
                description: '革命文物展收藏和展出了大量革命时期的珍贵文物，这些文物真实反映了革命先辈们的战斗、工作和生活状况，是历史的重要见证。',
                 
                sections: [
                    {
                        title: '龙王庙红军标语',
                        content: '1935年4月,红一军团在攻占嵩明县城及杨林军事重镇后,分左、中、右三路向西挺进。其中右路军在杨得志(后为开国上将)的带领下,沿普沙河经东村、西村、竹箐口向寻旬方向进发,经过东村龙王庙时,在墙上写下了"农民起来实行土地革命"的宣传标语。龙王庙因年久失修,嵩明县解放后只剩下左厢房基本完好。1998年水库,经群众推荐，各方捐资，龙王庙获得重修。2013年，由于兴建龙王庙水库，根据水利建设需要,龙王庙又搬迁至此,红军标语也一并搬迁。'
                    },
                    {
                        title: '修建新春邑机场',
                        content: '抗日战争爆发后,云南成为中国抗战的大后方。为适应战争的需要,国民党云南省政府先后出动150多万人,在对原有的24个机场进行改扩建的基础上,又相继新建28个飞机场。这28个机场分布在呈贡、陆良、沾益、嵩明、石林等地。新春邑机场位于嵩明县境东北部新春邑村委会马场村至大营之间,于1938年筹备修建, 1942年上半年,机场建成,长5公里,宽1公里,建有机库(窗)18个。飞机场建成后,盟军美国第十四航空队("飞虎大队")所属部队在此驻扎。'
                    },
                    {
                        title: '云南大学嵩明马坊分校',
                        content: '抗日战争时期的嵩明,是难得的一片静土。为避开战争的干扰,云南最高学府云南大学曾经到宽阔美丽的牛栏江畔办分校,在嵩明留下了一段佳话。为保障云南大学师生安全,1940年10月,200多名师生迁到马坊,组成以理学院为主的云大马坊分校,开学上课。1944年7月,云大马坊分校撤销,师生回昆明校本部。马坊分校师生不至畏艰难,进步的革命思想对上马坊乃至整个嵩明产生了深远的影响。进步青年冯兆钦、李云柱、达葛万铨等受其启蒙,后来秘密加入"民青"(云南民主青年同盟)组织,成为革命骨干,走上革命的道路。'
                    }
                ],
            },
            spirit: {
                title: '红色精神展',
                image: 'https://img.cdn1.vip/i/68f0cd715a410_1760611697.webp',
                images: [
                    'https://img.cdn1.vip/i/68f08314dfeb9_1760592660.webp',
                    'https://img.cdn1.vip/i/68f0830be46fb_1760592651.webp',
                    'https://img.cdn1.vip/i/68f0830f234dc_1760592655.webp',
                    'https://img.cdn1.vip/i/68f0831204591_1760592658.webp',
                    'https://img.cdn1.vip/i/68f0833cd4363_1760592700.webp',
                    'https://img.cdn1.vip/i/68f0833d226df_1760592701.webp',
                    'https://img.cdn1.vip/i/68f0833b29eb5_1760592699.webp',
                    'https://img.cdn1.vip/i/68f0833ac8c28_1760592698.webp',
                    'https://img.cdn1.vip/i/68f08364b6f6c_1760592740.webp',
                    'https://img.cdn1.vip/i/68f083653f954_1760592741.webp',
                    'https://img.cdn1.vip/i/68f0837cc18fa_1760592764.webp'
                ],
                description: '红色精神展通过互动展项、多媒体展示和沉浸式体验，深入解读红色精神的内涵和时代价值，让参观者在参与中感受红色精神的伟大力量。',
                sections: [
                    {
                        title: '红色血脉永赓续',
                        content: '红军长征过东村，在东村播下革命的火种，东村人民深受影响、广受教育。革命的真理在这里播撒，一串串由信仰组合而成的数字，铭刻着这个村子的红色印记。抗日战争时期，8位东村人参军入伍，走向了抗日战场;解放战争时期，8位东村人跟随着人民解放军把蒋家王朝淹没在了人民战争的汪洋大海;朝鲜战争时期，2位东村人走出国门，跟随志愿军一起保家卫国:对越自卫反击战，11位东村人义无反顾奔赴前线。善良勇敢的东村人，心心念念听党话、感党恩、跟党走，用自己的青春和热血，一代又一代赓续红色血脉，建设美丽家园，社区先后被评选为昆明“五星级”示范党总支、昆明市规范化建设党支部、昆明市民主法治村、嵩明县先进基层党组织:被授予“昆明市党史学习教育现场教学“嵩明县学习宣传贯彻习近平占"新时代中国特色社会主义思想示范基“嵩明基层党员教育实训示范地”、基地”“嵩明县中小学校外劳动教育实践基地”“嵩明县少先队校外实践基地、嵩明县统战文化基地”'
                    },
                    {
                        title: '艰苦奋斗永传承',
                        content: '人 们习惯称 东村为“天然氧吧”，但人们不知道的是，东村约占云南省国土面积万分之一、全村森林资源约占80%以上的数字背后，蕴藏着东村人民艰苦奋斗、无私奉献的精神，草白龙山上千亩傲然挺立的人工植树林，是东村人民老老小小“总动员”，经过无数个日日夜夜擘画的“山水长卷”，浸透着东村人民的辛勤汗水。修建大石头、干河水库，东村人民积极响应政府号召、无条件支持水库项目建设，踏上移民搬迁之路，以牺牲小我、成就大我的奉献精神，保证了嵩明县城及部分坝区的水源供给;脱贫攻坚易地扶贫搬迁，东村人民在党和政府的坚强领导下，充分发扬自力更生、艰苦奋斗的精神，踏上了全面建成小康社会的康庄大道。守-方山水、续一脉精神，近年来，东村社区党总支团结带领东村人民，在艰苦奋斗的足迹中踏出新步伐，先后“省被评选为“国家级森林乡村”“省级卫 生级美丽村庄”“昆明市科普示范村”，成功村”创建为“嵩明县平安社区”“嵩明县文明村”'
                    },
                    {
                        title: '乡村振兴谋发展',
                        content: '曾经的东村，因交通滞后、人多地少以及地处嵩明县饮用水源保护区，发展受限，贫困发生率较高，成为嵩明县仅有的五个省级贫困村之一。如何破解发展与保护的“紧箍咒”?东村人民拿出信念如磐的毅力，从打赢打好脱贫攻坚战、全面建成小康社会的“号角”中冲出重围、涅槃重生。甩掉贫困的“帽子”不是终点，不断过上更加幸福的生活才是目的。在全面推进乡村振兴的道路上，东村人民把长征精神转化为推动发展的强大动力，不等不靠，仅用了两年不到的时间，就建成了嵩明爱国主义教育基地，红军长征东村纪念馆、红色记忆收藏馆、胡如瑛故居、红军长征体验步道成为东村挖掘红色文化、助力乡村振兴的“得意之作”，红色文化不断发力，农耕文化、生态文化焕发“红色+绿色”的乡村振兴定生机，位，产业生态化、生态产业化的索，正在东村大地不断实践，东村区变“跟跑”为“领跑”，先后被选为昆明市“一村一品”示范村，后被授予“昆明市出列村创业致富“云南大学乡村头人实训基地”、兴研学实践基地”'
                    }
                ],
            }
        };

        // 打开模态框
        function openModal(exhibitionId) {
            const exhibition = exhibitionDetails[exhibitionId];
            if (!exhibition) return;
            
            modalTitle.textContent = exhibition.title;
            
            // 构建模态框内容，包含图片浏览功能
            let content = `
                <div class="image-gallery">
                    <div class="gallery-main">
                        <img id="gallery-main-image" src="${exhibition.images[0]}" alt="${exhibition.title}">
                        <button class="gallery-nav prev" onclick="changeImage(-1)"><i class="fas fa-chevron-left"></i></button>
                        <button class="gallery-nav next" onclick="changeImage(1)"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="gallery-thumbnails">
            `;
            
            // 添加缩略图
            exhibition.images.forEach((img, index) => {
                content += `
                    <img src="${img}" alt="图片 ${index + 1}" onclick="setMainImage(${index})" class="gallery-thumbnail ${index === 0 ? 'active' : ''}" onerror="this.src='https://placehold.co/80x60/CCCCCC/666666?text=缩略图'; this.alt='缩略图加载失败';">
                `;
            });
            
            content += `
                    </div>
                </div>
                <p>${exhibition.description}</p>
            `;
            
            // 添加各部分内容
            exhibition.sections.forEach(section => {
                content += `
                    <h4>${section.title}</h4>
                    <p>${section.content}</p>
                `;
            });
            
            // 添加展览信息
                if (exhibition.info) {
                    content += `
                        <div class="modal-details">
                            <div class="modal-detail-item">
                                <i class="fas fa-map-marker-alt"></i> 地点：${exhibition.info.location}
                            </div>
                            <div class="modal-detail-item">
                                <i class="fas fa-clock"></i> 建议参观时长：${exhibition.info.duration}
                            </div>
                            <div class="modal-detail-item">
                                <i class="fas fa-info-circle"></i> 讲解服务：${exhibition.info.guide}
                            </div>
                            <div class="modal-detail-item">
                                <i class="fas fa-star"></i> 特色设施：${exhibition.info.facilities}
                            </div>
                        </div>
                    `;
                }
            
            modalBody.innerHTML = content;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden'; // 防止背景滚动
            
            // 保存当前展览ID到全局变量
            window.currentExhibition = exhibitionId;
            window.currentImageIndex = 0;
        }
        
        // 切换图片函数
        function changeImage(direction) {
            const exhibition = exhibitionDetails[window.currentExhibition];
            if (!exhibition) return;
            
            window.currentImageIndex = (window.currentImageIndex + direction + exhibition.images.length) % exhibition.images.length;
            updateGallery();
        }
        
        // 设置主图片函数
        function setMainImage(index) {
            window.currentImageIndex = index;
            updateGallery();
        }
        
        // 更新图片库显示，添加错误处理
        function updateGallery() {
            const exhibition = exhibitionDetails[window.currentExhibition];
            if (!exhibition) return;
            
            const mainImage = document.getElementById('gallery-main-image');
            mainImage.src = exhibition.images[window.currentImageIndex];
            
            // 添加主图错误处理
            mainImage.onerror = function() {
                console.log('主图加载失败，使用备用图片');
                this.src = 'https://placehold.co/800x500/CCCCCC/666666?text=图片加载失败';
                this.alt = '图片加载失败';
            };
            
            // 更新缩略图激活状态
            const thumbnails = document.querySelectorAll('.gallery-thumbnail');
            thumbnails.forEach((thumb, index) => {
                if (index === window.currentImageIndex) {
                    thumb.classList.add('active');
                } else {
                    thumb.classList.remove('active');
                }
                
                // 添加缩略图错误处理
                thumb.onerror = function() {
                    this.src = 'https://placehold.co/80x60/CCCCCC/666666?text=缩略图';
                    this.alt = '缩略图加载失败';
                };
            });
        }
        
        // 关闭模态框
        function closeModalFunc() {
            modal.style.display = 'none';
            document.body.style.overflow = ''; // 恢复背景滚动
        }
        
        // 添加点击事件
        document.querySelectorAll('.exhibition-item').forEach(item => {
            item.addEventListener('click', function() {
                const exhibitionId = this.getAttribute('data-exhibition');
                openModal(exhibitionId);
            });
        });
        
        // 关闭按钮点击事件
        closeModal.addEventListener('click', closeModalFunc);
        
        // 点击模态框外部关闭
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                closeModalFunc();
            }
        });
        
        // ESC键关闭模态框
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && modal.style.display === 'block') {
                closeModalFunc();
            }
        });
    </script>
    
    <!-- 添加地图相关的JavaScript代码 -->
    <script src="https://webapi.amap.com/loader.js"></script>
    <script>
        // 东村红色基地数据
        const sites = [
            {
                name: "东村革命会议旧址",
                lnglat: [103.038, 25.214],
                address: "云南省昆明市嵩明县嵩阳街道东村",
                description: "位于云南省昆明市嵩明县嵩阳街道东村的东村革命会议旧址，是中国共产党在嵩明地区播撒革命火种、开展早期活动的关键地标。在烽火连天的岁月里，这里不仅多次见证重要革命会议的召开，更成为党组织凝聚力量、制定策略的核心场所，为嵩明乃至周边区域的革命斗争清晰指明了前进方向。",
                image: "https://img.cdn1.vip/i/68f08364b6f6c_1760592740.webp",
                type: "革命会议旧址",
                color: "#e63946"
            },
            {
                name: "东村战斗遗址",
                lnglat: [103.036, 25.212],
                address: "云南省昆明市嵩明县嵩阳街道东村",
                description: "东村战斗遗址是嵩明地区革命斗争的重要见证。在革命战争年代，这里曾发生过激烈的战斗，革命先辈们为了民族独立和人民解放，在这里英勇奋战，留下了宝贵的革命精神财富。攻占嵩明 佯攻昆明：1935年4月29日,中央军委命令一军团,攻占嵩明城及杨林兵站,形成威逼昆明之势。中央红军一军团接受任务后,于当天兵分两路进入嵩明县境。一师一部由寻甸塘子进入嵩明县的匡郎冲,取道大铺、倚伴直取嵩明县城。一师、二师各一部相互配合,一师二团三营营长尹国赤首先率部从城北黄龙山攻入县城。另一路,二师六团从马龙县的易隆进入嵩明小新街,沿滇黔公路西上,占领距昆明城仅50公里的军事重镇杨林,在距昆明不到40公里的山林中设障碍、布疑兵,继续对昆明实行威逼封锁，召开群众大会红军进入县城,军纪严明,占领县衙门门(当时称五马楼)后,打开监狱,放出30多名无辜受害群众。在县政府门前聚集民众近千人,召开群众大会,宣传党的政策和抗日反蒋的政治主张,把没收来的土豪财物发给劳苦人民。通过宣传,发动了县城的小福源、杨文举,尖山村的张开新等10余名青年参加红军",

                image: "https://img.cdn1.vip/i/68f0b2d620b16_1760604886.webp",
                type: "战斗遗址",
                color: "#457b9d"
            },
            {
                name: "东村纪念设施",
                lnglat: [103.040, 25.215],
                address: "云南省昆明市嵩明县嵩阳街道东村",
                description: "东村纪念设施不仅是缅怀革命先烈、传承红色基因的精神地标，更是承载嵩明地区红色记忆的重要场所。馆内系统陈列着嵩明革命斗争时期的珍贵文物与历史资料，从泛黄的战地文书、锈迹斑斑的革命武器，到定格历史瞬间的黑白照片，每一件展品都生动还原了当地先烈们浴血奋战的峥嵘岁月。如今，这里已成为开展爱国主义教育和革命传统教育的核心基地，无数参观者在此聆听革命故事、感悟红色精神，让红色基因在代代相传中焕发新的活力。",
                image: "https://img.cdn1.vip/i/68f0833ac8c28_1760592698.webp",
                type: "纪念设施",
                color: "#1d3557"
            },
            {
                name: "东村红色记忆收藏馆",
                lnglat: [103.039, 25.213],
                address: "云南省昆明市嵩明县嵩阳街道东村",
                description: "在云南省昆明市嵩明县嵩阳街道东村，掩藏着一处特殊的革命印记——东村地下设施。革命战争年代，这里是党在嵩明开展秘密活动的关键据点，昏暗的通道与隐蔽的空间，曾掩护过往来的革命工作者、传递过重要情报。\n  \n  它不仅见证了先辈们在敌人眼皮底下坚持斗争的英勇，更以实物形态留存下那段艰难岁月的抗争记忆，成为如今触摸嵩明革命历史的珍贵遗迹。",
                image: "https://img.cdn1.vip/i/68f0c0c1b777c_1760608449.webp",
                type: "地下设施",
                color: "#a8dadc"
            }
        ];

        // 初始化地图
        AMapLoader.load({
            key: "d17c17f8f712c81a7e4241aff4faa7b0",
            plugins: ["AMap.Marker", "AMap.InfoWindow", "AMap.ToolBar", "AMap.Scale"]
        }).then((AMap) => {
            const map = new AMap.Map("map-container", {
                viewMode: "3D",
                zoom: 14,
                center: [103.038, 25.214] // 东村中心点
            });
            
            // 添加控件
            map.addControl(new AMap.ToolBar());
            map.addControl(new AMap.Scale());
            
            // 添加标记点
            sites.forEach(site => {
                // 创建自定义图标
                const markerContent = document.createElement('div');
                markerContent.style.width = '25px';
                markerContent.style.height = '25px';
                markerContent.style.borderRadius = '50%';
                markerContent.style.backgroundColor = site.color;
                markerContent.style.boxShadow = '0 2px 6px rgba(0,0,0,0.3)';
                markerContent.style.border = '2px solid white';
                markerContent.style.display = 'flex';
                markerContent.style.alignItems = 'center';
                markerContent.style.justifyContent = 'center';
                markerContent.style.cursor = 'pointer';
                
                const icon = document.createElement('i');
                icon.className = 'fas fa-flag text-white text-xs';
                markerContent.appendChild(icon);
                
                const marker = new AMap.Marker({
                    position: new AMap.LngLat(site.lnglat[0], site.lnglat[1]),
                    title: site.name,
                    content: markerContent,
                    map: map
                });
                
                // 点击标记点显示详情
                marker.on('click', () => {
                    document.getElementById('site-title').textContent = site.name;
                    document.getElementById('site-address').textContent = site.address;
                    document.getElementById('site-description').innerHTML = site.description.split('\n').map(p => `<p class="mb-4">${p}</p>`).join('');
                    document.getElementById('site-image').src = site.image;
                    document.getElementById('site-image').alt = site.name;
                    document.getElementById('site-details').style.display = 'block';
                    
                    // 滚动到详情区域
                    document.getElementById('site-details').scrollIntoView({ behavior: 'smooth' });
                });
            });
        }).catch(e => {
            console.error(e);
        });

        // 关闭详情按钮
        document.getElementById('close-details').addEventListener('click', () => {
            document.getElementById('site-details').style.display = 'none';
        });

        // 返回顶部按钮
        window.addEventListener('scroll', function() {
            const backToTop = document.getElementById('backToTop');
            if (window.pageYOffset > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        document.getElementById('backToTop').addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>
</body>
</html>